<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Safe CORS PoC</title>
</head>
<body>
<h2>Safe CORS PoC for /v2/auth endpoints</h2>
<pre id="results"></pre>

<script>
const endpoints = [
    '/v2/login/',
    '/v2/authenticate/login',
    '/v2/authenticate/logout',
    '/v2/authenticate/check',
    // أضف أي مسارات auth مشبوهة هنا
];

const baseURL = 'https://go.capital.com';

const resultsEl = document.getElementById('results');

endpoints.forEach(ep => {
    fetch(baseURL + ep, { credentials: 'omit' })
    .then(res => res.text())
    .then(data => {
        const output = `✅ ${ep} - Response size: ${data.length}\nFirst 200 chars:\n${data.substring(0,200)}\n\n`;
        resultsEl.textContent += output;
        console.log(output);
    })
    .catch(err => {
        const output = `❌ ${ep} - Error or blocked by CORS\n${err}\n\n`;
        resultsEl.textContent += output;
        console.log(output);
    });
});
</script>
</body>
</html>
